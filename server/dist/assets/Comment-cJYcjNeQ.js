import{r as s,a as k,a3 as w,d as D,Q as p,R as f,j as r,S as i}from"./index-ejOMQ5mP.js";import{I as h}from"./index.esm-kkkImSXi.js";import{u as E}from"./useMediaQuery-veD3v3SJ.js";import{A as M}from"./Avatar-cj3lPPpq.js";import{T as x}from"./Typography-8tdXd-pp.js";import{M as b}from"./Menu-cUaQ8PkP.js";import{M as z}from"./MenuItem-626ZPQWI.js";import"./iconBase-4R61x3Rr.js";import"./useEnhancedEffect-pF7N8rFg.js";import"./createSvgIcon-mUo6UpKZ.js";import"./react-is.production.min-T_4AIkBo.js";import"./useTheme-js-pnjgx.js";import"./Modal-nf0MEq-X.js";import"./useForkRef-kwGwuOoY.js";import"./TransitionGroupContext-prrqPGpl.js";import"./useSlotProps-_sd9eYnP.js";import"./ButtonBase-DuLANiGZ.js";const I=({e,postId:a})=>{const{darkMode:g,myInfo:m}=k(o=>o.service),[c,l]=s.useState(null),[j,d]=s.useState(),n=E("(min-width:700px)"),[C,t]=w(),{refetch:S}=D(a),u=()=>{l(null)},v=async()=>{const o={postId:a,id:e==null?void 0:e._id};await C(o),u(),S()},y=()=>{if(e&&m&&e.admin._id===m._id){d(!0);return}d(!1)};return s.useEffect(()=>{y()},[e]),s.useEffect(()=>{t.isSuccess&&p.success(t.data.msg,{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",transition:f}),t.isError&&p.error(t.error.data.msg,{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",transition:f})},[t.isError,t.isSuccess]),r.jsxs(r.Fragment,{children:[r.jsxs(i,{flexDirection:"row",justifyContent:"space-between",px:2,pb:4,borderBottom:"1px solid gray",mx:"auto",width:"90%",children:[r.jsxs(i,{flexDirection:"row",gap:n?2:1,children:[r.jsx(M,{src:e?e.admin.profilePic:"",alt:e?e.admin.userName:""}),r.jsxs(i,{flexDirection:"column",children:[r.jsx(x,{variant:"h6",fontWeight:"bold",fontSize:"0.9rem",children:e?e.admin.userName:""}),r.jsx(x,{variant:"p",fontSize:"0.9rem",children:e?e.text:""})]})]}),r.jsxs(i,{flexDirection:"row",gap:1,alignItems:"center",color:g?"whitesmoke":"GrayText",fontSize:"0.9rem",children:[r.jsx("p",{children:"24min"}),j?r.jsx(h,{size:n?28:20,onClick:o=>l(o.currentTarget)}):r.jsx(h,{size:n?28:20})]})]}),r.jsx(b,{anchorEl:c,open:c!==null,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:r.jsx(z,{onClick:v,children:"Delete"})})]})},L=s.memo(I);export{L as default};
