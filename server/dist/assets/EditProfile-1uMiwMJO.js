import{a as D,c as R,t as E,r as a,a8 as k,v as w,Q as u,R as m,j as e,S as n,L as z,Z as B,x as h}from"./index-ejOMQ5mP.js";import{R as N}from"./index.esm-ivCNutZg.js";import{u as O}from"./useMediaQuery-veD3v3SJ.js";import{D as U,a as L,b as M}from"./DialogTitle-eM_ALCrU.js";import{A as T}from"./Avatar-cj3lPPpq.js";import{B as x}from"./Button-O04fUjmC.js";import{T as l}from"./Typography-8tdXd-pp.js";import"./iconBase-4R61x3Rr.js";import"./useEnhancedEffect-pF7N8rFg.js";import"./useTheme-js-pnjgx.js";import"./Modal-nf0MEq-X.js";import"./useForkRef-kwGwuOoY.js";import"./TransitionGroupContext-prrqPGpl.js";import"./useSlotProps-_sd9eYnP.js";import"./useId-Su-98Ebu.js";import"./createSvgIcon-mUo6UpKZ.js";import"./ButtonBase-DuLANiGZ.js";const te=()=>{const{openEditProfileModal:f,myInfo:t}=D(s=>s.service),g=R(),c=E(),p=a.useRef(),[j,r]=k(),{refetch:b}=w(g.id),[o,v]=a.useState(),[i,y]=a.useState(t==null?void 0:t.bio),C=O("(min-width:700px)"),d=()=>{c(h(!1))},S=()=>{p.current.click()},P=async()=>{if(o||i){const s=new FormData;s.append("text",i),s.append("media",o),await j(s)}c(h(!1))};return a.useEffect(()=>{r.isSuccess&&(b(),u.success(r.data.msg,{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",transition:m})),r.isError&&u.error(r.error.data.msg,{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",transition:m})},[r.isError,r.isSuccess]),e.jsx(e.Fragment,{children:e.jsx(U,{open:f===!0,onClose:d,fullWidth:!0,fullScreen:!C,children:r!=null&&r.isLoading?e.jsx(n,{height:"60vh",children:e.jsx(z,{})}):e.jsxs(e.Fragment,{children:[e.jsx(B,{position:"absolute",top:20,right:20,onClick:d,children:e.jsx(N,{size:28})}),e.jsx(L,{textAlign:"center",mb:5,children:"Edit Profile"}),e.jsxs(M,{children:[e.jsxs(n,{flexDirection:"column",gap:1,children:[e.jsx(T,{src:o?URL.createObjectURL(o):t?t.profilePic:"",alt:t?t.userName:"",sx:{width:96,height:96,alignSelf:"center"}}),e.jsx(x,{size:"large",sx:{border:"2px solid gray",borderRadius:"10px",width:96,height:40,alignSelf:"center",my:2,":hover":{cursor:"pointer"}},onClick:S,children:"Change"}),e.jsx("input",{type:"file",className:"file-input",accept:"image/*",ref:p,onChange:s=>v(s.target.files[0])}),e.jsxs(l,{variant:"p",fontWeight:"bold",fontSize:"1.2rem",my:2,children:["User Name :"," "]}),e.jsx("input",{type:"text",value:t?t.userName:"",readOnly:!0,className:"text1"})]}),e.jsxs(n,{flexDirection:"column",gap:1,children:[e.jsxs(l,{variant:"p",fontWeight:"bold",fontSize:"1.2rem",children:["Email :"," "]}),e.jsx("input",{type:"text",value:t?t.email:"",readOnly:!0,className:"text1"})]}),e.jsxs(n,{flexDirection:"column",gap:1,children:[e.jsxs(l,{variant:"p",fontWeight:"bold",fontSize:"1.2rem",children:["Bio :"," "]}),e.jsx("input",{type:"text",className:"text1",placeholder:t?t.bio:"",value:i||"",onChange:s=>y(s.target.value)})]}),e.jsx(x,{size:"large",sx:{border:"2px solid gray",borderRadius:"10px",bgcolor:"GrayText",width:"100%",color:"white",my:2,fontSize:"1.2rem",":hover":{cursor:"pointer",bgcolor:"gray"}},onClick:P,children:"Update"})]})]})})})};export{te as default};
