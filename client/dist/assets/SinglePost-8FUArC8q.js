import{r,_ as n,c as g,d as f,e as h,Q as c,R as d,j as t,S as p}from"./index-ejOMQ5mP.js";import{T as C}from"./TextField-RPaRL8F4.js";import"./useId-Su-98Ebu.js";import"./react-is.production.min-T_4AIkBo.js";import"./Menu-cUaQ8PkP.js";import"./useTheme-js-pnjgx.js";import"./Modal-nf0MEq-X.js";import"./useForkRef-kwGwuOoY.js";import"./TransitionGroupContext-prrqPGpl.js";import"./useEnhancedEffect-pF7N8rFg.js";import"./useSlotProps-_sd9eYnP.js";import"./createSvgIcon-mUo6UpKZ.js";const E=r.lazy(()=>n(()=>import("./index-ejOMQ5mP.js").then(i=>i.ad),__vite__mapDeps([0,1]))),v=r.lazy(()=>n(()=>import("./Comment-cJYcjNeQ.js"),__vite__mapDeps([2,0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]))),P=r.lazy(()=>n(()=>import("./Post-CN3aqfNf.js"),__vite__mapDeps([19,0,1,3,4,5,6,9]))),w=()=>{const i=g(),[a,m]=r.useState(),{data:e,refetch:u}=f(i.id),[l,o]=h(),_=async s=>{if(e&&s.key==="Enter"){const x={id:e.post._id,text:a};await l(x)}};return r.useEffect(()=>{o.isSuccess&&(m(),u(),c.success(o.data.msg,{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",transition:d})),o.isError&&c.error(o.error.data.msg,{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",transition:d})},[o.isSuccess,o.isError]),t.jsx(r.Suspense,{fallback:t.jsx(E,{}),children:t.jsxs(p,{flexDirection:"column",my:5,gap:2,children:[t.jsx(P,{e:e==null?void 0:e.post}),t.jsx(p,{flexDirection:"column",gap:2,width:"80%",mx:"auto",children:e?e.post.comments.map(s=>t.jsx(v,{e:s,postId:e==null?void 0:e.post._id},s._id)):null}),t.jsx(C,{variant:"outlined",autoFocus:!0,placeholder:"Comment here...",id:"comment",sx:{width:"50%",mx:"auto",my:5,p:1},onChange:s=>m(s.target.value),onKeyUp:_,value:a||""})]})})};export{w as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-ejOMQ5mP.js","assets/index-AA6V2BOJ.css","assets/Comment-cJYcjNeQ.js","assets/index.esm-kkkImSXi.js","assets/iconBase-4R61x3Rr.js","assets/useMediaQuery-veD3v3SJ.js","assets/useEnhancedEffect-pF7N8rFg.js","assets/Avatar-cj3lPPpq.js","assets/createSvgIcon-mUo6UpKZ.js","assets/Typography-8tdXd-pp.js","assets/Menu-cUaQ8PkP.js","assets/react-is.production.min-T_4AIkBo.js","assets/useTheme-js-pnjgx.js","assets/Modal-nf0MEq-X.js","assets/useForkRef-kwGwuOoY.js","assets/TransitionGroupContext-prrqPGpl.js","assets/useSlotProps-_sd9eYnP.js","assets/MenuItem-626ZPQWI.js","assets/ButtonBase-DuLANiGZ.js","assets/Post-CN3aqfNf.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
