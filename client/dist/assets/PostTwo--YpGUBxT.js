import{r as n,a as y,ab as z,ac as C,Q as u,R as f,j as e,S as r,J as p}from"./index-ejOMQ5mP.js";import{a as b,b as D,c as R,d as E}from"./index.esm-p0iI1Hkx.js";import{a as L}from"./index.esm-kkkImSXi.js";import{u as c}from"./useMediaQuery-veD3v3SJ.js";import{T as l}from"./Typography-8tdXd-pp.js";import"./iconBase-4R61x3Rr.js";import"./useEnhancedEffect-pF7N8rFg.js";const N=({e:s})=>{const{darkMode:m,myInfo:g}=y(d=>d.service),[k]=z(),[j,o]=C(),[w,x]=n.useState(),i=c("(min-width:300px)"),a=c("(min-width:400px)"),S=c("(min-width:500px)"),t=c("(min-width:700px)"),h=async()=>{await k(s==null?void 0:s._id)},_=n.useCallback(()=>{if((s==null?void 0:s.likes.length)>0&&s.likes.filter(d=>d._id===g._id).length>0){x(!0);return}x(!1)},[s]),v=async()=>{await j(s._id)};return n.useEffect(()=>{_()},[s]),n.useEffect(()=>{o.isSuccess&&u.success(o.data.msg,{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",transition:f}),o.isError&&u.error(o.error.data.msg,{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",transition:f})},[o.isSuccess,o.isError]),e.jsx(e.Fragment,{children:e.jsxs(r,{flexDirection:"column",justifyContent:"space-between",children:[e.jsxs(r,{flexDirection:"column",gap:2,children:[e.jsxs(r,{flexDirection:"column",children:[e.jsx(l,{variant:"h6",fontSize:a||i?"1rem":"0.8rem",fontWeight:"bold",children:s?s.admin.userName:""}),e.jsx(p,{to:`/post/${s==null?void 0:s._id}`,className:"link",children:e.jsx(l,{variant:"9",fontSize:t?"1.2rem":a?"1rem":i?"0.9rem":"0.8rem",className:m?"mode":"",children:s?s.text:""})})]}),s&&s.media?e.jsx("img",{src:s.media,alt:s.admin.userName,loading:"lazy",width:t?"400px":S?"350px":a?"250px":i?"180px":"150px",height:"auto"}):""]}),e.jsxs(r,{flexDirection:"column",gap:1,children:[e.jsxs(r,{flexDirection:"row",gap:2,m:1,children:[w?e.jsx(b,{size:t?32:i?28:24,onClick:h}):e.jsx(D,{size:t?32:i?28:24,onClick:h}),e.jsx(p,{to:`/post/${s==null?void 0:s._id}#comment`,className:"link",children:e.jsx(R,{size:t?32:i?28:24})}),e.jsx(E,{size:t?32:i?28:24,onClick:v}),e.jsx(L,{size:t?32:i?28:24})]}),e.jsx(p,{to:`/post/${s==null?void 0:s._id}`,className:"link",children:e.jsxs(r,{flexDirection:"row",gap:1,position:"relative",top:-3,left:4,children:[s&&s.likes.length>0?e.jsxs(l,{variant:"p",color:m?"white":'"GrayText"',fontSize:t?"1.1rem":"1rem",children:[s.likes.length," likes ."]}):"",s&&s.comments.length>0?e.jsxs(l,{variant:"p",color:m?"white":'"GrayText"',fontSize:t?"1.1rem":"1rem",children:[s.comments.length," comments"]}):""]})})]})]})})},$=n.memo(N);export{$ as default};
